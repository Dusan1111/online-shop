<body>
  <div>
    <nav class="navbar bg-primary" style="color: white; font-size: 30px; align-items: right; height: 85px;">
      <button class="btn btn-primary border-primary" type="button" data-bs-toggle="collapse" data-bs-target="#hamburger"
        aria-controls="hamburger" aria-expanded="false" (click)="openNav()"
        style="height: 60px; width: 150px; margin-top: 10px; font-size: 20px;" type="button" *ngIf="menuButtonVisible">
        Menu
        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-list"
          viewBox="0 0 16 16">
          <path fill-rule="evenodd"
            d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z" />
        </svg>
      </button>
        <!-- Use any element to open the sidenav
  <button type="button" class="btn btn-primary border-primary" (click)="openNav()">Open side menu</button> -->
      <button class="btn btn-primary border-primary" type="button" data-bs-toggle="popover" data-bs-target="#hamburger" *ngIf="!menuButtonVisible"
      aria-controls="hamburger" aria-expanded="false" (click)="closeNav()" style="height: 60px; width: 150px; margin-top: 10px; font-size: 20px;" type="button">
        Hide Menu
    </button>

      <p style="font-weight: bold;">Welcome to the online shop</p>
      <a class="navbar-brand"></a>
      <form class="form-inline">
        <span *ngIf="getUserName!=null" id="userNameSpan">
          {{getUserName}}
        </span>
        <span *ngIf="getUserName!=null" id="userNameDelimenter">
          |
        </span>
        <a href=''>
          <button *ngIf="!isUserLoggedIn()" type="link" class="btn btn-primary border-primary" data-bs-toggle="modal"
            data-bs-target="#logSignIdDialog" (click)="openLoginForm()"
            style="height: 60px; max-width: 150px; margin-top: 10px; font-size: 20px;">
            Log in
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
              class="bi bi-box-arrow-in-right" viewBox="0 0 16 16">
              <path fill-rule="evenodd"
                d="M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0v-2z" />
              <path fill-rule="evenodd"
                d="M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z" />
            </svg>

          </button>
        </a>

        <button *ngIf="isUserLoggedIn()" class="btn btn-primary border-primary"
          style="height: 60px; width: 150px; margin-top: 10px;font-size: 20px;" (click)="logOut()">
          Log out
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
            class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
            <path fill-rule="evenodd"
              d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z" />
            <path fill-rule="evenodd"
              d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z" />
          </svg>
        </button>
        <box>
          <button class="btn btn-primary btn-block float-right" style="color: black; margin-top: 10px; margin-right: 0px; width: 50px; height: 60px;"  type="button" data-bs-toggle="collapse"
              data-bs-target="#navbarToggleExternalContent" aria-controls="navbarToggleExternalContent"
              aria-expanded="false" *ngIf="!isAdmin()" (click)="showCart()">

              <div class="form-row">
                <!-- {{cart.getTotalCartPrice}} din  -->
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="20" height="20" fill="currentColor" class="bi bi-cart">
                  <path
                      d="M0 2.5A.5.5 0 0 1 .5 2H2a.5.5 0 0 1 .485.379L2.89 4H14.5a.5.5 0 0 1 .485.621l-1.5 6A.5.5 0 0 1 13 11H4a.5.5 0 0 1-.485-.379L1.61 3H.5a.5.5 0 0 1-.5-.5zM3.14 5l.5 2H5V5H3.14zM6 5v2h2V5H6zm3 0v2h2V5H9zm3 0v2h1.36l.5-2H12zm1.11 3H12v2h.61l.5-2zM11 8H9v2h2V8zM8 8H6v2h2V8zM5 8H3.89l.5 2H5V8zm0 5a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0zm9-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0z" />
              </svg>
               </div>
          </button >
              <span class="index" *ngIf="!isAdmin() && totalCartCount > 0">{{ totalCartCount}} </span>
          </box>
      </form>
      
    </nav>
    
    <app-product-cart></app-product-cart>

    <div id="mySidenav" class="sidenav" style="margin-top: 25px;">

      <div class="accordion" id="accordionExample">
        <div class="accordion-item" *ngIf="!isAdmin()">
          <h2 class="accordion-header" id="headingTwo">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
              data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
              Product categories
            </button>
          </h2>
          <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingTwo"
            data-bs-parent="#accordionExample">
            <div class="accordion-body">
              <div *ngIf="ProductCategoryList$ | async as categoryList">
                <ul class="list-group" *ngFor="let category of categoryList" style="margin-left: 20px;">
                <li *ngIf="!isAdmin()">
                  <input class="form-check-input me-1" type="checkbox" value="" (change)="selectCategoryFilter($event, category.name)"
                    aria-label="...">
                  {{category.name}}
                </li>
              </ul>
            </div>
              <button class="btn btn-outline-primary btn-sm btn-block" (click)="applyCategoryFilter()">
                Apply filter
              </button>
            </div>
          </div>
       
        
        </div>
     
        <div class="accordion-item" *ngIf="!isAdmin()">
          <h2 class="accordion-header" id="headingTwo">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
              data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
              Product price
            </button>
          </h2>

          <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo"
            data-bs-parent="#accordionExample">
            <div class="accordion-body">
              <label for="customRange3" class="form-label">Product price</label>
              <input type="range" class="form-range" min="0" max="1000" step="1" id="customRange3" [(ngModel)]="toPrice">
              <div class="form-row">
                <div class="input-group">
                <input type="text" class="form-control" placeholder="from" min="0" max="1000" step="1" id="fromPrice" [(ngModel)]="fromPrice">
                <input type="text" class="form-control"  placeholder="to" min="0" max="1000" step="1" id="toPrice" [(ngModel)]="toPrice">
                  <button type="button" class="btn btn-link" (click)="priceSearch()" >
                     Go
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <a class="nav-link" id="v-pills-profile-tab" data-toggle="pill" routerLink="orders" *ngIf="isUserLoggedIn()"
        role="tab" aria-controls="v-pills-profile" aria-selected="false"  style="color: black; font-size: 16px;" >
      Orders 
    </a>
      </div>

      <a *ngIf="isAdmin()" class="nav-link" id="v-pills-profile-tab" data-toggle="pill" routerLink="products" role="tab"
        aria-controls="v-pills-profile" aria-selected="false" style="color: black; font-size: 16px;">
          Products
      </a>

      <a *ngIf="isAdmin()" class="nav-link" id="v-pills-profile-tab" data-toggle="pill" routerLink="productCategories"
        role="tab" aria-controls="v-pills-profile" aria-selected="false"  style="color: black; font-size: 16px;">
          Product categories
      </a>

      <a *ngIf="isAdmin()" class="nav-link" id="v-pills-profile-tab" data-toggle="pill" routerLink="discounts"
          role="tab" aria-controls="v-pills-profile" aria-selected="false"  style="color: black; font-size: 16px;">
        Discounts
      </a>

      <a *ngIf="isAdmin()" class="nav-link" id="v-pills-profile-tab" data-toggle="pill" routerLink="statistics"
      role="tab" aria-controls="v-pills-profile" aria-selected="false"  style="color: black; font-size: 16px;">
    Statistics
  </a>

    </div>
  </div>

  <!-- Add all page content inside this div if you want the side nav to push page content to the right (not used if you only want the sidenav to sit on top of the page -->
  <div id="main">
    <router-outlet></router-outlet>
  </div>

  <div class="modal fade" id="logSignIdDialog" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="logSignIdDialogLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-l">

      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="staticBackdropLabel">Login</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" (click)="closeClick()">
          </button>
        </div>
        <div class="modal-body">
          <app-log-sign-in>
          </app-log-sign-in>
        </div>
      </div>
    </div>
  </div>

</body>

